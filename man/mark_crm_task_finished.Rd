% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/crm_api_tasks.R
\name{mark_crm_task_finished}
\alias{mark_crm_task_finished}
\title{Mark CRM Tasks as Finished}
\usage{
mark_crm_task_finished(headers, df)
}
\arguments{
\item{headers}{Named vector with API headers. Must include:
\itemize{
\item "content-type" = "application/json"
\item "X-apikey" = your_api_key
\item "Accept" = "\emph{/}"
}}

\item{df}{Data frame containing task information. Required columns:
\itemize{
\item task_id: External CRM task ID (positive integer)
}}
}
\value{
Tibble with results for each task:
\itemize{
\item task_id: The task ID
\item success: Boolean indicating if the task was marked as finished
\item status_code: HTTP status code from the API
\item error_message: Error message if failed, NA otherwise
}
}
\description{
This function calls the CRM API and marks tasks as finished using PUT requests.
It sets the "finished" field to TRUE for each task.
}
\details{
The function iterates over each row in the dataframe and sends a PUT request
to the CRM API endpoint: PUT /api/tasks/{task_id}
with body: {"task": {"finished": true}}

Successful status codes: 200, 204
}
\examples{
\dontrun{
headers <- c(
  "content-type" = "application/json",
  "X-apikey" = keys$crm,
  "Accept" = "*/*"
)

tasks_to_finish <- data.frame(
  task_id = c(18782531, 18782532, 18782533)
)

results <- mark_crm_task_finished(headers, tasks_to_finish)
}

}
