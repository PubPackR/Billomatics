% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/database_functions.R
\name{postgres_load_db_tables_to_list}
\alias{postgres_load_db_tables_to_list}
\title{Load Specific Tables from PostgreSQL Database into List of DataFrames by Schema}
\usage{
postgres_load_db_tables_to_list(
  tables = NULL,
  conn = NULL,
  keys_postgres = NULL,
  update_available_tables = FALSE,
  ssh_key_path = NULL
)
}
\arguments{
\item{tables}{Ein Character-Vektor mit vollqualifizierten Tabellennamen im Format \code{"schema.tabelle"}.
Beispiel: \code{c("raw.crm_leads", "analytics.dashboard_metrics")}.}

\item{conn}{Ein bestehendes PostgreSQL-Connection-Objekt. Wenn \code{NULL}, wird eine neue Verbindung
über \code{postgres_connect()} hergestellt (basierend auf interaktivem Modus oder \code{keys_postgres}).}

\item{keys_postgres}{Eine Liste mit Zugangsdaten zur Produktionsdatenbank (benötigt bei \code{conn = NULL}
und außerhalb des interaktiven Modus). Die Liste muss folgende Einträge enthalten:
\code{password}, \code{user}, \code{dbname}, \code{host}, \code{port}.}

\item{update_available_tables}{Logisch. Wenn \code{TRUE}, werden \strong{alle} angegebenen Tabellen vor dem Einlesen
aus der Produktion gezogen. Wenn \code{FALSE} (Standard), werden nur Tabellen gezogen, die lokal
noch \strong{nicht} existieren.}

\item{ssh_key_path}{Pfad zum SSH-Schlüssel für die Verbindung zur Produktionsumgebung (wird beim Ziehen der Daten benötigt).}
}
\value{
Eine verschachtelte Liste:
\itemize{
\item Die äußere Liste ist nach Schemanamen benannt (z. B. \code{"raw"}).
\item Jede Schema-Liste enthält DataFrames der Tabellen innerhalb dieses Schemas.
}
}
\description{
Diese Funktion verbindet sich mit einer PostgreSQL-Datenbank und lädt die angegebenen Tabellen
mithilfe der Funktion \code{postgres_select()}. Die Tabellen werden in einer verschachtelten Liste
organisiert, wobei jede Ebene dem jeweiligen Schema entspricht.
}
\details{
Die Funktion kann in interaktiven Sitzungen automatisch eine Verbindung zur lokalen Datenbank aufbauen
und – falls gewünscht – fehlende Tabellen aus der Produktionsumgebung lokal synchronisieren.
\itemize{
\item Im interaktiven Modus wird standardmäßig eine Verbindung zur lokalen Datenbank hergestellt.
Hierzu wird das Passwort abgefragt (sofern \code{local_pw} nicht direkt übergeben wird).
\item Wenn \code{update_available_tables = FALSE}, prüft die Funktion zunächst, welche Tabellen bereits
lokal in der Datenbank vorhanden sind. Nur fehlende Tabellen werden aus der Produktionsumgebung gezogen.
\item Die Tabelleninhalte werden mithilfe von \code{postgres_select()} abgerufen.
}
}
\examples{
\dontrun{
  # Nur lokal nicht vorhandene Tabellen ziehen und laden
  data_list <- postgres_load_db_tables_to_list(
    tables = c("raw.crm_leads", "analytics.dashboard_metrics"),
    update_available_tables = FALSE
  )
}

}
