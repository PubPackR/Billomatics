% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/assign_product_name.R
\name{apply_mapping_vectorized}
\alias{apply_mapping_vectorized}
\title{Apply product mapping using vectorized pattern matching}
\usage{
apply_mapping_vectorized(produkt_names, mapping_table, column_name)
}
\arguments{
\item{produkt_names}{Character vector of product names to classify}

\item{mapping_table}{Pre-filtered mapping table with patterns and category values}

\item{column_name}{Name of the column containing category values to return}
}
\value{
Character vector of matched categories (original names if no match)

#' @details
\subsection{How "First Match Wins" Works:}{

The function uses a trick to track which items have been matched:
\itemize{
\item \code{result} starts identical to \code{produkt_names}
\item After a match: \code{result[i]} becomes the category (e.g., "SF_EMPLOYBRAND")
\item The condition \code{result == produkt_names} becomes FALSE for matched items
\item This prevents re-matching in subsequent iterations
}

Example with produkt_names = c("Employer Branding", "Bewerber"):

\strong{Iteration 1} (Pattern "Employer Branding" → "SF_EMPLOYBRAND"):
\itemize{
\item unmatched_mask = c(TRUE, TRUE) (both still original)
\item matches = c(TRUE, FALSE) (only first matches pattern)
\item result = c("SF_EMPLOYBRAND", "Bewerber") (first updated!)
}

\strong{Iteration 2} (Pattern "Bewerber" → "SF_BEWERBBOOST"):
\itemize{
\item unmatched_mask = c(FALSE, TRUE) (first already changed!)
\item matches = c(FALSE, TRUE) (only second matches)
\item result = c("SF_EMPLOYBRAND", "SF_BEWERBBOOST")
}

This vectorized approach is faster than nested loops while maintaining
the correct pattern priority from the CSV.
}
}
\description{
Efficiently matches product names to categories by iterating through patterns
once and applying matches vectorially. Respects pattern priority (first match wins).
}
