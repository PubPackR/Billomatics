% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_export_queue_handling.R
\name{job_stop}
\alias{job_stop}
\title{Stop a Job Event}
\usage{
job_stop(con, job_name, status = "end", request_id = NULL)
}
\arguments{
\item{con}{Database connection object (DBI connection)}

\item{job_name}{Character string identifying the job}

\item{status}{Character string for the event type. One of 'end', 'success', or 'failure' (default: 'end')}

\item{request_id}{UUID identifying this specific job run (optional for backward compatibility)}
}
\value{
Number of rows affected (from DBI::dbExecute)
}
\description{
Records a completion event for a job in the data_job_events table.
Can record different completion statuses: 'end', 'success', or 'failure'.
The run_data_job() function uses this automatically with appropriate status.
}
\examples{
\dontrun{
con <- postgres_connect(needed_tables = c("processed.data_job_events"))
job_stop(con, "my_export_job")
job_stop(con, "my_export_job", status = "success")
job_stop(con, "my_export_job", status = "failure")

# With request_id for queue management
request_id <- uuid::UUIDgenerate()
job_stop(con, "my_export_job", "success", request_id = request_id)
}
}
