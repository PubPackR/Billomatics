% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/postgres_connect.R
\name{postgres_connect_intern_function}
\alias{postgres_connect_intern_function}
\title{postgres_connect_intern_function}
\usage{
postgres_connect_intern_function(
  local_host = "localhost",
  local_port = 5432,
  local_user = "postgres",
  local_dbname = "studyflix_local",
  postgres_keys = NULL,
  local_pw = NULL,
  ssl_cert_path = "../../metabase-data/postgres/eu-central-1-bundle.pem"
)
}
\arguments{
\item{local_host}{Hostname der lokalen Datenbank. Standard ist \code{"localhost"}.}

\item{local_port}{Port der lokalen Datenbank. Standard ist \code{5432}.}

\item{local_user}{Benutzername für die lokale Datenbank. Standard ist \code{"postgres"}.}

\item{local_dbname}{Name der lokalen Datenbank. Standard ist \code{"studyflix_local"}.}

\item{postgres_keys}{Ein benannter Vektor oder eine Liste mit Produktions-Zugangsdaten in folgender Reihenfolge:
\itemize{
\item \code{postgres_keys[[1]]}: Passwort
\item \code{postgres_keys[[2]]}: Benutzername
\item \code{postgres_keys[[3]]}: Name der Datenbank
\item \code{postgres_keys[[4]]}: Hostname
\item \code{postgres_keys[[5]]}: Port (als Zahl)
}}

\item{local_pw}{Optionales Passwort für die lokale Datenbankverbindung. Wird in interaktiver Umgebung abgefragt, falls nicht angegeben.}

\item{ssl_cert_path}{Pfad zur SSL-Zertifikatsdatei für die Verbindung zur Produktionsdatenbank. Standard ist \code{"../../metabase-data/postgres/eu-central-1-bundle.pem"}.}
}
\value{
Ein \code{pool::dbPool}-Objekt, falls die Verbindung erfolgreich war. Andernfalls wird ein Fehler ausgelöst.
}
\description{
Stellt eine Verbindung zu einer PostgreSQL-Datenbank her – lokal oder produktiv –, abhängig von der Umgebung (interaktiv oder nicht).
}
\details{
\itemize{
\item In interaktiven Sessions (\code{interactive() == TRUE}) wird eine Verbindung zur lokalen PostgreSQL-Datenbank aufgebaut.
\itemize{
\item Existiert die angegebene lokale Datenbank nicht, wird sie automatisch erstellt.
\item Falls \code{local_pw} nicht angegeben ist, wird das Passwort via \code{getPass::getPass()} sicher abgefragt.
}
\item In nicht-interaktiven Sessions (z. B. auf Servern) wird die Verbindung zur Produktionsdatenbank aufgebaut – mit SSL-Verschlüsselung und übergebener Zertifikatsdatei.
\item Verbindungsfehler lösen einen spezifischen Fehler mit erklärender Meldung aus.
}
}
\examples{
\dontrun{
# Interaktive Verbindung zur lokalen Datenbank
con_local <- postgres_connect_intern_function(local_pw = "dein_passwort")

# Verbindung zur Produktionsdatenbank (nicht interaktiv)
keys <- list(
  "prod_pw",
  "prod_user",
  "prod_db",
  "prod_host",
  5432
)
con_prod <- postgres_connect_intern_function(postgres_keys = keys)
}

}
\keyword{internal}
